<div class="overflow-x-auto me-3">
  <nav class="flex" aria-label="Breadcrumb">
    <ol class="inline-flex items-center space-x-1 md:space-x-2 rtl:space-x-reverse">
      <li class="inline-flex items-center">
        <a href="#" class="inline-flex items-center text-sm font-medium text-gray-700 hover:text-blue-600 dark:text-gray-400 dark:hover:text-white">
          Products/
        </a>
      </li>
    </ol>
    </nav><br>
    <div class="flex p-4 bg-[#f2f2f2] rounded-md mb-5 shadow">
        <input
                [formControl]="searchKeywordFilter" #input
          type="text"
          placeholder="Search..."
          class="flex-grow   p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-lightblue-500"
        />
        <!-- Buttons -->
        <button class="btn  bg-accent  ml-4 px-4 py-2" onclick="my_modal_1.showModal()"><i class="fa fa-solid fa-plus text-xl text-gray-600"></i></button>
        <button class="btn  btn-active ml-4 px-4 py-2">Export</button>
      </div>

<div class="mat-elevation-z8 shadow">
    <table mat-table [dataSource]="dataSource" matSort (matSortChange)="announceSortChange($event)" class="table table-zebra ">
        <!-- Id Column -->
        <ng-container matColumnDef="id">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Id </th>
            <td mat-cell *matCellDef="let element" class="font-bold"> {{element.id}} </td>
        </ng-container>
        <!-- Name Column -->
        <ng-container matColumnDef="productName">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Name </th>
            <td mat-cell *matCellDef="let element"> {{element.productName}} </td>
        </ng-container>

        <!-- Symbol Column -->
        <ng-container matColumnDef="productCode">
            <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by code"> Code </th>
            <td mat-cell *matCellDef="let element"> {{element.productCode}} </td>
        </ng-container>

        <!-- Weight Column -->
        <ng-container matColumnDef="quantity" >
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Quantity </th>
            <td mat-cell *matCellDef="let element"> {{element.quantity}} </td>
        </ng-container>

        <!-- Weight Column -->
        <ng-container matColumnDef="unitBuyPrice">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> UBuyPrice </th>
            <td mat-cell *matCellDef="let element"> {{element.unitBuyPrice}} </td>
        </ng-container>

        <!-- Weight Column -->
        <ng-container matColumnDef="unitSellPrice">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> USellPrice </th>
            <td mat-cell *matCellDef="let element"> {{element.unitSellPrice}} </td>
        </ng-container>
        <ng-container matColumnDef="category.name">
            <th mat-header-cell *matHeaderCellDef mat-sort-header > Category </th>
            <td mat-cell *matCellDef="let element">
                <span class="  bg-green-100 text-green-800 font-medium  px-2.5 py-0.5 rounded-lg dark:bg-green-900 dark:text-green-300">{{element.category.name}}</span>
            </td>
        </ng-container>
        <ng-container matColumnDef="action">
            <th mat-header-cell *matHeaderCellDef> Action </th>
            <td mat-cell *matCellDef="let element">
                    <div class="flex space-x-2">
                        <button (click)="editProduct(element.id)" class="bg-blue-100 hover:bg-blue-200 text-blue-900 text-sm font-bold me-2 pe-1.5 ps-2 py-1.5 rounded dark:bg-gray-700 dark:text-blue-400 border border-blue-700 inline-flex items-center justify-center"><i class="fa fa-edit"></i></button>
                        <button (click)="deleteProduct(element.id)" class="bg-red-100 hover:bg-red-200 text-red-800 font-semibold me-2 px-2 py-1.5 text-sm rounded dark:bg-red-700 dark:text-red-400 border border-red-700 inline-flex items-center justify-center"><i class="fa fa-solid fa-trash"></i></button>
                      </div>
            </td>
        </ng-container>


        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
    @if(isLoading){
<!--        <div-->
<!--             style="display: flex; justify-content: center; align-items: center; background: white;">-->
<!--            <mat-progress-spinner-->
<!--                    color="primary"-->
<!--                    mode="indeterminate">-->
<!--            </mat-progress-spinner>-->
<!--        </div>-->
        <mat-progress-bar mode="indeterminate"></mat-progress-bar>
    }
    <mat-paginator [pageSizeOptions]="[5, 10, 20]"
                   [length]="totalCount"
                   showFirstLastButtons
                   aria-label="Select page of periodic elements">
    </mat-paginator>
</div>

<app-addproduct></app-addproduct>
</div>